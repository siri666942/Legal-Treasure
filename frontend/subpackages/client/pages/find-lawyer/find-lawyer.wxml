<!-- pages/find-lawyer/index.wxml -->
<view class="find-lawyer-page">
  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-box">
      <view class="search-icon">ğŸ”</view>
      <input 
        class="search-input" 
        placeholder="æœç´¢å¾‹å¸ˆå§“åã€ä¸“ä¸šé¢†åŸŸ" 
        placeholder-class="placeholder"
        bindinput="onSearchInput"
        bindconfirm="onSearchConfirm"
        confirm-type="search"
        value="{{searchKeyword}}"
      />
      <view 
        class="clear-btn {{searchKeyword ? 'show' : ''}}" 
        bindtap="onClearSearch"
      >
        âœ•
      </view>
    </view>
  </view>

  <!-- ç­›é€‰ç»„ä»¶ -->
  <view class="filter-section">
    <scroll-view class="filter-scroll" scroll-x>
      <view class="filter-tags">
        <view 
          class="filter-tag {{currentFilter === 'all' ? 'active' : ''}}" 
          bindtap="onFilterTap" 
          data-tag="all"
        >
          å…¨éƒ¨
        </view>
        <view 
          wx:for="{{filterTags}}" 
          wx:key="id"
          class="filter-tag {{currentFilter === item.id ? 'active' : ''}}" 
          bindtap="onFilterTap" 
          data-tag="{{item.id}}"
        >
          {{item.name}}
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- æœç´¢ç»“æœæ˜¾ç¤º -->
  <view class="search-result" wx:if="{{searchKeyword}}">
    <view class="result-header">
      <text class="result-text">
        "{{searchKeyword}}" çš„æœç´¢ç»“æœ
        <text class="result-count">({{searchResultCount}})</text>
      </text>
    </view>
  </view>

  <!-- å¾‹å¸ˆåˆ—è¡¨ - æ¯è¡Œä¸¤ä¸ªå¡ç‰‡ -->
  <view class="lawyer-list">
    <view class="lawyer-row" wx:for="{{displayedLawyers}}" wx:key="id" wx:for-item="row">
      <view class="lawyer-card-wrapper" wx:for="{{row}}" wx:key="id">
        <view 
          class="lawyer-card" 
          bindtap="onLawyerTap" 
          data-id="{{item.id}}"
        >
          <!-- å¤´åƒåŒºåŸŸ - ä½¿ç”¨emojiä»£æ›¿å›¾ç‰‡ -->
          <view class="lawyer-avatar-emoji">{{item.avatarEmoji}}</view>
          <view class="lawyer-info">
            <text class="lawyer-name">{{item.name}}</text>
            <text class="lawyer-title">{{item.title}}</text>
            <text class="lawyer-intro">{{item.introduction}}</text>
          </view>
          <view class="lawyer-tags">
            <text class="tag" wx:for="{{item.tags.slice(0, 2)}}" wx:key="index">
              {{item}}
            </text>
          </view>
          <view class="consult-btn" catchtap="onConsultTap" data-id="{{item.id}}">ç«‹å³å’¨è¯¢</view>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{displayedLawyers.length === 0}}">
      <view class="empty-icon">ğŸ‘¨â€âš–ï¸</view>
      <text class="empty-text" wx:if="{{searchKeyword}}">
        æœªæ‰¾åˆ°"{{searchKeyword}}"ç›¸å…³å¾‹å¸ˆ
      </text>
      <text class="empty-text" wx:else>
        æš‚æ— ç¬¦åˆæ¡ä»¶çš„å¾‹å¸ˆ
      </text>
      <view 
        class="reset-btn" 
        bindtap="onResetFilter"
        wx:if="{{currentFilter !== 'all' || searchKeyword}}"
      >
        é‡ç½®ç­›é€‰æ¡ä»¶
      </view>
    </view>
  </view>
</view>