<view class="login-container">
  <!-- Logo区域（紧凑） -->
  <view class="logo-section">
    <view class="logo-circle">
      <text class="logo-icon">⚖️</text>
    </view>
    <text class="app-name">律宝</text>
    <text class="app-subtitle">专业法律服务平台</text>
  </view>

  <view class="form-section">
    <!-- 用户名 -->
    <view class="form-group">
      <text class="input-label">用户名</text>
      <view class="input-wrapper">
        <image class="input-icon" src="/common/assets/icons/user.png" mode="aspectFit"></image>
        <input class="native-input" placeholder="请输入用户名" placeholder-class="placeholder"
               value="{{username}}" bindinput="onUsernameInput" />
        <view wx:if="{{username}}" class="clear-btn" bindtap="setData" data-field="username" data-value="">
          <text class="clear-icon">✕</text>
        </view>
      </view>
    </view>

    <!-- 密码 -->
    <view class="form-group">
      <text class="input-label">密码</text>
      <view class="input-wrapper">
        <image class="input-icon" src="/common/assets/icons/lock.png" mode="aspectFit"></image>
        <input class="native-input" type="password" placeholder="6-20位字符" placeholder-class="placeholder"
               value="{{password}}" bindinput="onPasswordInput" />
        <view wx:if="{{password}}" class="clear-btn" bindtap="setData" data-field="password" data-value="">
          <text class="clear-icon">✕</text>
        </view>
      </view>
    </view>

    <!-- 确认密码 -->
    <view class="form-group">
      <text class="input-label">确认密码</text>
      <view class="input-wrapper">
        <image class="input-icon" src="/common/assets/icons/lock.png" mode="aspectFit"></image>
        <input class="native-input" type="password" placeholder="请再次输入密码" placeholder-class="placeholder"
               value="{{confirmPassword}}" bindinput="onConfirmPasswordInput" />
        <view wx:if="{{confirmPassword}}" class="clear-btn" bindtap="setData" data-field="confirmPassword" data-value="">
          <text class="clear-icon">✕</text>
        </view>
      </view>
    </view>

    <!-- 邮箱（替代手机号） -->
    <view class="form-group">
      <text class="input-label">邮箱</text>
      <view class="input-wrapper">
        <image class="input-icon" src="/common/assets/icons/email.png" mode="aspectFit"></image>
        <input class="native-input" placeholder="请输入邮箱" placeholder-class="placeholder"
               value="{{email}}" bindinput="onEmailInput" />
        <view wx:if="{{email}}" class="clear-btn" bindtap="setData" data-field="email" data-value="">
          <text class="clear-icon">✕</text>
        </view>
      </view>
    </view>

    <!-- 验证码（带获取按钮） -->
    <view class="form-group code-group">
      <text class="input-label">验证码</text>
      <view class="input-wrapper code-wrapper">
        <image class="input-icon" src="/common/assets/icons/code.png" mode="aspectFit"></image>
        <input class="native-input" placeholder="请输入验证码" placeholder-class="placeholder"
               value="{{code}}" bindinput="onCodeInput" />
        <view wx:if="{{code}}" class="clear-btn" bindtap="setData" data-field="code" data-value="">
          <text class="clear-icon">✕</text>
        </view>
        <view class="code-btn" bindtap="getCode">
          <text class="code-btn-text">{{countdown ? countdown + '秒后重试' : '获取验证码'}}</text>
        </view>
      </view>
    </view>

    <!-- 注册按钮（紧凑） -->
    <button class="primary-btn" loading="{{loading}}"
            disabled="{{!username || !password || !confirmPassword || !email || !code || loading}}"
            bindtap="onRegisterTap">
      {{loading ? '注册中...' : '立即注册'}}
    </button>

    <!-- 底部链接 -->
    <view class="link-section">
      <text class="link-text" bindtap="goToLogin">返回登录</text>
      <text class="divider">|</text>
      <text class="link-text" bindtap="onForgetPasswordTap">忘记密码</text>
    </view>
  </view>
</view>